{"ast":null,"code":"// src/store/slices/productsSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../utils/axios';\n\n// Асинхронні дії\nexport const addProduct = createAsyncThunk('products/addProduct', async (productData, {\n  rejectWithValue\n}) => {\n  try {\n    const {\n      data\n    } = await api.post('/products', productData);\n    return data;\n  } catch (error) {\n    var _error$response, _error$response$data;\n    return rejectWithValue(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to add product');\n  }\n});\nexport const getProducts = createAsyncThunk('products/getProducts', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const {\n      data\n    } = await api.get('/products');\n    return data;\n  } catch (error) {\n    var _error$response2, _error$response2$data;\n    return rejectWithValue(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : (_error$response2$data = _error$response2.data) === null || _error$response2$data === void 0 ? void 0 : _error$response2$data.message) || 'Failed to fetch products');\n  }\n});\n\n// Початковий стан\nconst initialState = {\n  items: [],\n  isLoading: false,\n  error: null\n};\n\n// Слайс\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    clearError: state => {\n      state.error = null;\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Add Product\n    .addCase(addProduct.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(addProduct.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.items.push(action.payload);\n    }).addCase(addProduct.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    })\n    // Get Products\n    .addCase(getProducts.pending, state => {\n      state.isLoading = true;\n      state.error = null;\n    }).addCase(getProducts.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.items = action.payload;\n    }).addCase(getProducts.rejected, (state, action) => {\n      state.isLoading = false;\n      state.error = action.payload;\n    });\n  }\n});\nexport const {\n  clearError\n} = productsSlice.actions;\nexport default productsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","api","addProduct","productData","rejectWithValue","data","post","error","_error$response","_error$response$data","response","message","getProducts","_","get","_error$response2","_error$response2$data","initialState","items","isLoading","productsSlice","name","reducers","clearError","state","extraReducers","builder","addCase","pending","fulfilled","action","push","payload","rejected","actions","reducer"],"sources":["/Users/serhii_bondariev/Documents/GitHub/PowerTools/frontend/src/store/slices/productsSlice.js"],"sourcesContent":["// src/store/slices/productsSlice.js\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport api from '../../utils/axios';\n\n// Асинхронні дії\nexport const addProduct = createAsyncThunk(\n  'products/addProduct',\n  async (productData, { rejectWithValue }) => {\n    try {\n      const { data } = await api.post('/products', productData);\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.response?.data?.message || 'Failed to add product');\n    }\n  }\n);\n\nexport const getProducts = createAsyncThunk(\n  'products/getProducts',\n  async (_, { rejectWithValue }) => {\n    try {\n      const { data } = await api.get('/products');\n      return data;\n    } catch (error) {\n      return rejectWithValue(error.response?.data?.message || 'Failed to fetch products');\n    }\n  }\n);\n\n// Початковий стан\nconst initialState = {\n  items: [],\n  isLoading: false,\n  error: null,\n};\n\n// Слайс\nconst productsSlice = createSlice({\n  name: 'products',\n  initialState,\n  reducers: {\n    clearError: (state) => {\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Add Product\n      .addCase(addProduct.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(addProduct.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.items.push(action.payload);\n      })\n      .addCase(addProduct.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n      })\n      // Get Products\n      .addCase(getProducts.pending, (state) => {\n        state.isLoading = true;\n        state.error = null;\n      })\n      .addCase(getProducts.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.items = action.payload;\n      })\n      .addCase(getProducts.rejected, (state, action) => {\n        state.isLoading = false;\n        state.error = action.payload;\n      });\n  },\n});\n\nexport const { clearError } = productsSlice.actions;\nexport default productsSlice.reducer;\n"],"mappings":"AAAA;AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,GAAG,MAAM,mBAAmB;;AAEnC;AACA,OAAO,MAAMC,UAAU,GAAGF,gBAAgB,CACxC,qBAAqB,EACrB,OAAOG,WAAW,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAC1C,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMJ,GAAG,CAACK,IAAI,CAAC,WAAW,EAAEH,WAAW,CAAC;IACzD,OAAOE,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IAAA,IAAAC,eAAA,EAAAC,oBAAA;IACd,OAAOL,eAAe,CAAC,EAAAI,eAAA,GAAAD,KAAK,CAACG,QAAQ,cAAAF,eAAA,wBAAAC,oBAAA,GAAdD,eAAA,CAAgBH,IAAI,cAAAI,oBAAA,uBAApBA,oBAAA,CAAsBE,OAAO,KAAI,uBAAuB,CAAC;EAClF;AACF,CACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAGZ,gBAAgB,CACzC,sBAAsB,EACtB,OAAOa,CAAC,EAAE;EAAET;AAAgB,CAAC,KAAK;EAChC,IAAI;IACF,MAAM;MAAEC;IAAK,CAAC,GAAG,MAAMJ,GAAG,CAACa,GAAG,CAAC,WAAW,CAAC;IAC3C,OAAOT,IAAI;EACb,CAAC,CAAC,OAAOE,KAAK,EAAE;IAAA,IAAAQ,gBAAA,EAAAC,qBAAA;IACd,OAAOZ,eAAe,CAAC,EAAAW,gBAAA,GAAAR,KAAK,CAACG,QAAQ,cAAAK,gBAAA,wBAAAC,qBAAA,GAAdD,gBAAA,CAAgBV,IAAI,cAAAW,qBAAA,uBAApBA,qBAAA,CAAsBL,OAAO,KAAI,0BAA0B,CAAC;EACrF;AACF,CACF,CAAC;;AAED;AACA,MAAMM,YAAY,GAAG;EACnBC,KAAK,EAAE,EAAE;EACTC,SAAS,EAAE,KAAK;EAChBZ,KAAK,EAAE;AACT,CAAC;;AAED;AACA,MAAMa,aAAa,GAAGrB,WAAW,CAAC;EAChCsB,IAAI,EAAE,UAAU;EAChBJ,YAAY;EACZK,QAAQ,EAAE;IACRC,UAAU,EAAGC,KAAK,IAAK;MACrBA,KAAK,CAACjB,KAAK,GAAG,IAAI;IACpB;EACF,CAAC;EACDkB,aAAa,EAAGC,OAAO,IAAK;IAC1BA;IACE;IAAA,CACCC,OAAO,CAACzB,UAAU,CAAC0B,OAAO,EAAGJ,KAAK,IAAK;MACtCA,KAAK,CAACL,SAAS,GAAG,IAAI;MACtBK,KAAK,CAACjB,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDoB,OAAO,CAACzB,UAAU,CAAC2B,SAAS,EAAE,CAACL,KAAK,EAAEM,MAAM,KAAK;MAChDN,KAAK,CAACL,SAAS,GAAG,KAAK;MACvBK,KAAK,CAACN,KAAK,CAACa,IAAI,CAACD,MAAM,CAACE,OAAO,CAAC;IAClC,CAAC,CAAC,CACDL,OAAO,CAACzB,UAAU,CAAC+B,QAAQ,EAAE,CAACT,KAAK,EAAEM,MAAM,KAAK;MAC/CN,KAAK,CAACL,SAAS,GAAG,KAAK;MACvBK,KAAK,CAACjB,KAAK,GAAGuB,MAAM,CAACE,OAAO;IAC9B,CAAC;IACD;IAAA,CACCL,OAAO,CAACf,WAAW,CAACgB,OAAO,EAAGJ,KAAK,IAAK;MACvCA,KAAK,CAACL,SAAS,GAAG,IAAI;MACtBK,KAAK,CAACjB,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDoB,OAAO,CAACf,WAAW,CAACiB,SAAS,EAAE,CAACL,KAAK,EAAEM,MAAM,KAAK;MACjDN,KAAK,CAACL,SAAS,GAAG,KAAK;MACvBK,KAAK,CAACN,KAAK,GAAGY,MAAM,CAACE,OAAO;IAC9B,CAAC,CAAC,CACDL,OAAO,CAACf,WAAW,CAACqB,QAAQ,EAAE,CAACT,KAAK,EAAEM,MAAM,KAAK;MAChDN,KAAK,CAACL,SAAS,GAAG,KAAK;MACvBK,KAAK,CAACjB,KAAK,GAAGuB,MAAM,CAACE,OAAO;IAC9B,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAET;AAAW,CAAC,GAAGH,aAAa,CAACc,OAAO;AACnD,eAAed,aAAa,CAACe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}